<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Flight Booking Form | Adamâ€™s Travel Agency</title>
<link rel="stylesheet" href="css/style.css" />

<style>
/* Overall container styling */
.form-wrapper {
    background: #fff;
    padding: 30px;
    border-radius: 15px;
    max-width: 1200px;
    width: 100%;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    margin: 30px auto;
  }

/* Style for trip type radio buttons */
.tripTypeContainer {
  display: flex;
  gap: 20px;
  align-items: center;
  margin-top: 10px;
  margin-bottom: 15px;
}

/* Header styles */
.logo-wrapper {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}
.logo-wrapper img { height: 60px; }

h2 {
  text-align: center;
  font-size: 2.2rem;
  color: #006b8f;
  margin-bottom: 30px;
  font-family: Georgia;

}

  /* Mobile heading */
  h2 {
    font-size: 1.6rem;
    margin-bottom: 30px;
  }


/* Form styles */
form {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 0;
    font-family: Georgia;
}

/* Sections */
fieldset {
    flex: 1 1 45%;
    border: 2px solid #ccc;
    border-radius: 10px;
    padding: 15px 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Make sections stack on small screens */
  @media(max-width: 768px) {
    fieldset {
      flex: 1 1 100%;
    }
  }


legend {
    font-weight: bold;
    font-size: 1.2rem;
    padding: 0 10px;
  }
}

  /* Form groups in rows no of adults & no. of children space between input fields and the type of visa and process space between */
.form-row {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
  }

/* Individual input containers */
.form-group {
    flex: 1 1 45%;
    display: flex;
    flex-direction: column;
  }

   label {
    margin-bottom: 5px;
    font-weight: bold;
  }

input[type="text"],
input[type="email"],
input[type="date"],
input[type="number"],
select {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-family: Georgia, serif;
    font-size: 1rem;
}

input:focus, select:focus {
  border-color:#0097a7;
  box-shadow:0 0 8px rgba(0,151,167,0.2);
  outline:none;
}

/* Button */
button {
  width: 100%;
    padding: 15px;
    margin-top: 30px;
    background: linear-gradient(135deg, #0077b6, #00b4d8);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: Georgia;
}

button:hover {
  background:linear-gradient(135deg,#0096c7,#48cae4);
  transform:translateY(-2px);
}

/* hidden class */
.hidden { display:none; }


/* flex row */
.flex-row {
  display:flex;
  gap:15px;
  flex-wrap:wrap;
  margin-top:5px;
}

/*MEDIA QUERY START HERE*/

/* START COLUMN STYLES OF ALL SECTION */
@media(max-width:768px){
  fieldset { flex:1 1 100%; }
}
/* END OF COLUMN STYLES OF ALL SECTION */
/* Specific CSS for date inputs to ensure size consistency */
  input[type="date"] {
    width: 100% !important;
    padding: 12px !important;
    margin-bottom: 15px !important;
    border: 1px solid #ccc !important;
    border-radius: 4px !important;
    font-size: 1em !important;

    /* Normalize appearance across browsers and devices */
    -webkit-appearance: none !important;
    appearance: none !important;

    box-sizing: border-box !important;
    min-height: 44px !important; /* Touch-friendly height */
  }

  /* Responsive adjustments */
  @media(max-width: 500px) {
    body {
      padding: 10px;
    }
  .form-wrapper{
    margin-top: 110px;
    /* The form layout: flex in rows */
  }
    }

</style>
</head>
<body>

<header>
  <div class="logo-container">
    <img src="images/logo.png" class="logo" />
    <span class="title">Adam's Travel Agency</span>
  </div>

  <nav id="nav">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="flights.html">Flights</a></li>
      <li><a href="hotels.html">Hotels</a></li>
      <li><a href="visa.html">Visa</a></li>
      <li><a href="payments.html">Payments</a></li>
    </ul>
  </nav>

  <div class="menu-toggle" id="menu-toggle"><span></span><span></span><span></span></div>
</header>

<div id="flightFormContainer" class="form-wrapper">

  <div class="logo-wrapper">
    <img src="images/logo.png" alt="Adam's Travel Agency Logo" />
  </div>

  <h2>Flight Booking Form</h2>
  <form id="flightForm">
   <!-- Trip Type -->
    <fieldset>
     <legend>Trip Type</legend>
      <label><input type="radio" name="tripType" value="oneway" checked> One-way</label>
      <label><input type="radio" name="tripType" value="roundtrip"> Roundtrip</label>
    </fieldset>

    <!-- Flight Details -->
    <fieldset>
      <legend>Flight Details</legend>
      <div class="form-group">
        <label>Email Address</label>
       <input type="email" id="email" name="_replyto" placeholder="your@email.com" required />
    </div>
      <div class="form-group">
        <label>Origin City</label>
        <input type="text" id="originCity" name="originCity" placeholder="Enter origin city" required>
      </div>
      <div class="form-group">
        <label>Destination City</label>
        <input type="text" id="destinationCity" name="destinationCity" placeholder="Enter the city" required>
      </div>
    </fieldset>

    <!-- Dates -->
    <fieldset>
      <legend>Travel Dates</legend>
      <div class="form-group">
        <label for="onwardDate">Onward Date:</label>
        <input type="date" id="onwardDate" name="onwardDate" required />

        <div id="returnDateContainer" class="form-group hidden">

          <label for="returnDate">Return Date:</label>
        <input type="date" id="returnDate" name="returnDate" required />
      </div>
    </fieldset>

     <!-- Passengers -->
    <fieldset>
      <legend>Numbers of Passengers</legend>
       <div class="flex-row">
        <div class="form-group" style="flex:1;">
          <label>Adults</label>
          <input type="number" id="adults" name="adults" placeholder="Aged above 12+" min="1" required>
        </div>

        <div class="form-group" style="flex:1;">
          <label>Children</label>
          <input type="number" id="children" name="children" placeholder="Aged below 12" min="0" required>
        </div>
      </div>

      <div class="flex-row">
        <div class="form-group" style="flex:1;">
          <label>Infant</label>
          <input type="number" id="infant" name="infant" placeholder="Aged 0 to 12 mos" min="0" required>
        </div>
    </fieldset>



    <!-- Airlines & Class Seat-->
    <fieldset>   
      <legend>Preferred Airlines and Class Seat</legend>
      <div class="form-group">
        <label>Airlines</label>
        <select id="airlines" name="airlines" required>
          <option value="">Select an airline</option>
           <option value="Philippine Airlines">Philippine Airlines</option>
        <option value="Cebu Pacific">Cebu Pacific</option>
        <option value="AirAsia Philippines">AirAsia Philippines</option>
        <!-- Other International Airlines of the Philippines -->
        <option value="Etihad Airways">Etihad Airways</option>
        <option value="Singapore Airlines">Singapore Airlines</option>
        <option value="Cathay Pacific">Cathay Pacific</option>
        <option value="Qatar Airways">Qatar Airways</option>
        <option value="Korean Air">Korean Air</option>
        <option value="Malaysia Airlines">Malaysia Airlines</option>
        <option value="Garuda Indonesia">Garuda Indonesia</option>
        <option value="Vietnam Airlines">Vietnam Airlines</option>
        <!-- International Airlines -->
        <option value="American Airlines">American Airlines</option>
        <option value="Delta Air Lines">Delta Air Lines</option>
        <option value="United Airlines">United Airlines</option>
        <option value="Emirates">Emirates</option>
        <option value="Qatar Airways">Qatar Airways</option>
        <option value="British Airways">British Airways</option>
        <option value="Lufthansa">Lufthansa</option>
        <option value="Air France">Air France</option>
        <option value="Singapore Airlines">Singapore Airlines</option>
        <option value="Cathay Pacific">Cathay Pacific</option>
        <option value="Qantas">Qantas</option>
        <option value="ANA">ANA (All Nippon Airways)</option>
        <option value="Japan Airlines">Japan Airlines</option>
        <option value="KLM Royal Dutch Airlines">KLM</option>
        <option value="EVA Air">EVA Air</option>
        <option value="Air Canada">Air Canada</option>
        <option value="Turkish Airlines">Turkish Airlines</option>
        <option value="Southwest Airlines">Southwest Airlines</option>
        <option value="Alaska Airlines">Alaska Airlines</option>
        <option value="Vietnam Airlines">Vietnam Airlines</option>
        </select>
      </div>

         <div class="form-group">
          <label>Class Seat</label>
          <select id="classSeat" name="classSeat" required>
            <option value="">Select Class</option>
            <option value="Economy">Economy</option>
            <option value="Premium Economy">Premium Economy</option>
            <option value="Business">Business</option>
          </select>
        </div>
    </fieldset>

    <button type="submit">Book Now</button>
  </form>
</div>

<!-- Confirmation Section -->
<div id="confirmationDisplay" style="display:none; max-width:600px; margin:20px auto; background:#fff; padding:20px; border-radius:8px;">

  <h2 style="text-align:center; color:#007bff;">Flight Booking Confirmed!</h2>

  <div id="bookingDetails" style="margin-top:20px; background:#f9f9f9; padding:15px; border-radius:5px;"></div>

  <div style="display:flex; gap:15px; justify-content:center; margin-top:20px;">
    <button onclick="window.location.href='payments.html'">Go to Payment</button>
    <button onclick="resetForm()" style="background:#6c757d;">Book Again</button>
  </div>
 </div>
</div>


<script>
/* Menu toggle */
document.getElementById('menu-toggle').onclick = () =>
  document.getElementById('nav').classList.toggle('show');

/* Toggle return date visibility */
function toggleReturnDate() {
  const type = document.querySelector('input[name="tripType"]:checked').value;
  const div = document.getElementById('returnDateContainer');
  const input = document.getElementById('returnDate');

  if (type === "roundtrip") {
    div.classList.remove("hidden");
    input.required = true;
  } else {
    div.classList.add("hidden");
    input.required = false;
    input.value = "";
  }
}
document.querySelectorAll('input[name="tripType"]').forEach(r =>
  r.addEventListener("change", toggleReturnDate)
);
window.addEventListener("DOMContentLoaded", toggleReturnDate);

/* Submit Handler */
const form = document.getElementById("flightForm");

form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(form);

  try {
    const res = await fetch('https://formspree.io/f/xeoynjpa', {
      method:"POST",
      body: formData,
      headers:{ "Accept":"application/json" }
    });

    if (!res.ok && res.status !== 302) throw new Error();

    const details = Object.fromEntries(formData.entries());

    sessionStorage.setItem("flightBooking", JSON.stringify(details));

    showConfirmation(details);

  } catch {
    alert("Error submitting form. Please try again.");
  }
});

/* Show confirmation */
function showConfirmation(d) {
  document.getElementById("flightFormContainer").style.display = "none";
  document.getElementById("confirmationDisplay").style.display = "block";

  document.getElementById("bookingDetails").innerHTML = `
    <p><strong>Trip Type:</strong> ${d.tripType}</p>
    <p><strong>Email:</strong> ${d._replyto}</p>
    <p><strong>Origin:</strong> ${d.originCity}</p>
    <p><strong>Destination:</strong> ${d.destinationCity}</p>
    <p><strong>Onward Date:</strong> ${d.onwardDate}</p>
    ${d.tripType === "roundtrip" ? `<p><strong>Return Date:</strong> ${d.returnDate}</p>` : ''}
    <p><strong>Class:</strong> ${d.classSeat}</p>
    <p><strong>Adults:</strong> ${d.adults}</p>
    <p><strong>Children:</strong> ${d.children}</p>
    <p><strong>Infant:</strong> ${d.infant}</p>
    <p><strong>Airlines:</strong> ${d.airlines}</p>
  `;
}

function resetForm() {
  form.reset();
  document.getElementById("confirmationDisplay").style.display = "none";
  document.getElementById("flightFormContainer").style.display = "block";
  toggleReturnDate();
}
</script>

<!-- FOOTER -->
<footer class="site-footer">
  <p>&copy; 2022 Adam's Travel Agency. All rights reserved.</p>
  <p>
    <a href="privacy.html" style="text-decoration:none; color:#007bff;">Privacy Policy</a> | 
    <a href="terms.html" style="text-decoration:none; color:#007bff;">Terms of Service</a>
  </p>
</footer>

</body>

</html>